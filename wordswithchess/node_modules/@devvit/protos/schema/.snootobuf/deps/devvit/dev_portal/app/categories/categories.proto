syntax = "proto3";

package devvit.dev_portal.app.categories;

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/devportal/app/categories";

// Contains every valid category an App can have.
enum Categories {
  MODERATION = 0;
  CUSTOM_POSTS = 1;
  UTILITIES = 2;
  OTHER_SITES = 3;
  FUNNY = 4;
  WEIRD = 5;
  AWW = 6;
  LEARNING = 7;
  FINANCIAL = 8;
  SPORTS = 9;
  GAMES = 10;
  MOVIES = 11;
  MUSIC = 12;
  TV = 13;
  BOOKS = 14;
  ANIME = 15;
  PROGRAMMING = 16;
  COOKING = 17;
  FITNESS = 18;
  TRAVEL = 19;
  CONTEXT_MENU = 20;
  MOD_CONTEXT = 21;
  FILTER = 22;
  POST_FILTER = 23;
  COMMENT_FILTER = 24;
  ANTI_SPAM = 25;
  ANTI_HARASSMENT = 26;
  NSFW_FILTER = 27;
  CITIZEN_FILTER = 28;
  POST_FLAIR = 29;
  COMMENT_FLAIR = 30;
  USER_FLAIR = 31;
  MESSAGING = 32;
  MISCHIEF = 420;
}

message AppCategory {
  int32 id = 1; // UUID of the category row
  string name = 2; // Human-readable category name
  optional int32 parent_id = 3; // UUID of the parent category (empty if root)
}

// Recursive category node that nests sub-categories inside each node.
message AppCategoryNode {
  AppCategory category = 1;
  repeated AppCategoryNode children = 2;
}

// Response wrapper for GetAllCategories returning the full category tree.
message AppCategoryNodeListResponse {
  repeated AppCategoryNode categories = 1;
}
