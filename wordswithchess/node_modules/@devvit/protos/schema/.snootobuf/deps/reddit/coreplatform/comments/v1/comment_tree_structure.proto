syntax = "proto3";

package reddit.coreplatform.comments.v1;

option go_package = "github.snooguts.net/reddit/thing-api/go/grpc/comments/v1;comments";
option java_multiple_files = true;
option java_outer_classname = "CommentTreeStructureProto";
option java_package = "com.reddit.coreplatform.api.comments.v1";

// Message representing a comment tree structure.
// A CommentTreeStructure is a map of children list to parent comments,
// with a list of stickied comments.
message CommentTreeStructure {
  // The mapping of parent comment to a list of child comments.
  message ChildrenByParent {
    // comment id for parent comment.
    string parent_comment_id = 1;
    // list of comment ids for child comments.
    repeated string child_comment_id = 2;
    // bool flag for whether the parent comment is a top level comment.
    bool is_top_level = 3;
  }

  // The list of children_by_parent relations.
  repeated ChildrenByParent children_by_parent = 1;

  // The list of stickied comments.
  repeated string stickied_comment_ids = 2;
}
