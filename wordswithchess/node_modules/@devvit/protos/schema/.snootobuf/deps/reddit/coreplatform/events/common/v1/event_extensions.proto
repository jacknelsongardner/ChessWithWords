syntax = "proto3";

package reddit.coreplatform.events.common.v1;

import "google/protobuf/any.proto";

option go_package = "github.snooguts.net/reddit/core-platform-events/go/common/v1";
option java_multiple_files = true;
option java_outer_classname = "EventExtensionsProto";
option java_package = "com.reddit.coreplatform.events.common.v1";

// Wrapper for vote metadata values, used for CloudEvent EventExtensions
message VoteMetadata {
  // Field for upvotes
  int32 ups = 1;
  // Field for downvotes
  int32 downs = 2;
}

// EventExtensions are optionally attached on a CloudEvent's attributes field and are a way to pass contextual metadata
// of the event to downstream consumers
message EventExtensions {
  // Extensions are a map of the fully qualified protobuf name to a protobuf payload containing metadata;
  // payloads above a certain size may be truncated and validation of payloads is left to the end user
  map<string, google.protobuf.Any> extensions = 1;
}
