syntax = "proto3";

package reddit.devvit.subreddit.v1;

option go_package = "github.snooguts.net/reddit/devplatform-api/go/grpc/devvit/subreddit/v1;devvit_subreddit_manifest";

// Temporary migration service as we move subreddit metadata loading from gateway-v1 to gateway-graphql.
// This traffic should generally be replaced with calls to DevvitSubredditService.BatchGetSubredditManifest.

service BatchSubredditMetadataResolver {
  rpc BatchGetLegacySubredditMetadata(BatchSubredditMetadataRequest) returns (BatchSubredditMetadataResponse);
}

message BatchSubredditMetadataRequest {
  repeated string subreddit = 1; // t5_ subreddit id
}

message BatchSubredditMetadataResponse {
  // JSON-encoded dump of devvit.gql.DevvitSubredditMetadata for
  // this subreddit.
  repeated string metadata = 1;
}
