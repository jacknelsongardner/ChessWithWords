syntax = "proto3";

package reddit.coreplatform.common.v1;

option go_package = "github.snooguts.net/reddit/thing-api/go/grpc/common/v1";
option java_multiple_files = true;
option java_outer_classname = "MediaProto";
option java_package = "com.reddit.coreplatform.api.common.v1";

/* @exclude No documentation present when converted from Thrift to Proto */
message MediaObject {
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string type = 1;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional OEmbed oembed = 3;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional RedditVideo reddit_video = 4;

  /* @exclude No documentation present when converted from Thrift to Proto */
  MediaDimension size = 5;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string content = 6;
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string live_event_id = 7;
}

/* @exclude No documentation present when converted from Thrift to Proto */
message MediaDimension {
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional int32 width = 1;
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional int32 height = 2;
}

/* @exclude No documentation present when converted from Thrift to Proto */
message OEmbed {
  /* @exclude No documentation present when converted from Thrift to Proto */
  string type = 1;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string version = 2;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string title = 3;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string description = 4;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string author_name = 5;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string author_url = 6;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string provider_name = 7;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string provider_url = 8;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string thumbnail_url = 9;

  /* @exclude No documentation present when converted from Thrift to Proto */
  MediaDimension thumbnail_size = 10;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string html = 11;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string url = 12;

  /* @exclude No documentation present when converted from Thrift to Proto */
  MediaDimension size = 13;

  /* @exclude No documentation present when converted from Thrift to Proto */
  MediaDimension margin = 14;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional int64 cache_age = 15;
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional double mean_alpha = 16;
}

/* @exclude No documentation present when converted from Thrift to Proto */
message RedditVideo {
  /* @exclude No documentation present when converted from Thrift to Proto */
  bool is_gif = 1;

  /* @exclude No documentation present when converted from Thrift to Proto */
  MediaDimension size = 2;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string transcoding_status = 3;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string transcoding_message = 4;

  /* @exclude No documentation present when converted from Thrift to Proto */
  int64 duration = 5;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string dash_url = 6;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string hls_url = 7;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string fallback_url = 8;

  /* @exclude No documentation present when converted from Thrift to Proto */
  string scrubber_media_url = 9;

  /* @exclude No documentation present when converted from Thrift to Proto */
  int32 bitrate_kbps = 10;

  // has_audio signals the presence of an audio track in the video. This is
  // used in the watch feed to optimize playback. c.f.
  // https://docs.google.com/document/d/1JhFVnYv4zk1S7sMj9BNxUsUZQVdoJ29g-sUsf87i5uk/
  optional bool has_audio = 11;
}

/* @exclude No documentation present when converted from Thrift to Proto */
message RpanVideo {
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string hls_url = 1;
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string scrubber_media_url = 2;
}

/* @exclude No documentation present when converted from Thrift to Proto */
message PreviewObject {
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string url = 1;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional int32 width = 2;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional int32 height = 3;

  /* @exclude No documentation present when converted from Thrift to Proto */
  optional string uid = 4;
  /* @exclude No documentation present when converted from Thrift to Proto */
  optional RedditVideo reddit_video = 5;
}
