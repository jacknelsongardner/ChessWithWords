function flattenFormFieldValue(value) {
    switch (value.fieldType) {
        case 0:
            return value.stringValue;
        case 7:
            // the string value is the URL
            return value.stringValue;
        case 1:
            return value.stringValue;
        case 2:
            return value.numberValue;
        case 3:
            return value.boolValue;
        case 5:
            return value.selectionValue?.values ?? [];
        default:
            return undefined;
    }
}
// This is a carbon copy of the transformFormFields function in the public-api package
// We copy it here so that @devvit/client does not need to depend on public-api
// Any changes to this function should be reflected in the public-api version
export function getFormValues(results) {
    return Object.keys(results).reduce((acc, key) => {
        const val = flattenFormFieldValue(results[key]);
        if (val !== undefined)
            acc[key] = val;
        return acc;
    }, {});
}
