import { getAccessToken, getOAuthSvc } from '../util/auth.js';
import { DevvitCommand } from '../util/commands/DevvitCommand.js';
class Logout extends DevvitCommand {
    init(_mode) {
        // We don't need to initialize the project for the logout command.
        return super.init('None');
    }
    async run() {
        const token = await getAccessToken();
        if (!token) {
            this.log('Not currently logged in. Nothing to do here :)');
            return;
        }
        await getOAuthSvc().Logout({});
        this.log('Successfully logged out');
    }
}
Logout.description = 'Log out of Devvit via reddit.com';
export default Logout;
