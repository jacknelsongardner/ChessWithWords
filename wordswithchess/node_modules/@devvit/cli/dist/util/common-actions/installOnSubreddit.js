import { AppVersionInfo, FullInstallationInfo, InstallationType, } from '@devvit/protos/community.js';
import { DevvitCommand } from '../commands/DevvitCommand.js';
import { waitUntilVersionBuildComplete } from '../common-actions/waitUntilVersionBuildComplete.js';
export async function installOnSubreddit(command, appVersionClient, installationsClient, userT2Id, appVersion, subreddit) {
    // Wait for the app version to be built.
    await waitUntilVersionBuildComplete(command, appVersionClient, appVersion);
    return await installationsClient.Create({
        appVersionId: appVersion.id,
        runAs: userT2Id,
        type: InstallationType.SUBREDDIT,
        location: subreddit,
        upgradeStrategy: 0,
    });
}
