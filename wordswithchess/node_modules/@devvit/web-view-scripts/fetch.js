/** Injects an auth token into /api/ requests. */
export async function fetch(authToken, globalFetch, location, input, init) {
    const req = new Request(input, init);
    if (isSameSite(location, new URL(req.url)))
        req.headers.set('Authorization', `Bearer ${authToken}`);
    // to-do: pass devvit-debug from BridgeContext.
    return await globalFetch(req);
}
/** @internal */
export function isSameSite(location, url) {
    return url.origin === location.origin;
}
