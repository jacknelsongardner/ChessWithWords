var p=()=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i,{once:!0}):i()},i=()=>document.addEventListener("pointerdown",()=>r({scope:0,type:"devvit-internal",analytics:{event:"click"}}),{passive:!0}),r=e=>parent.postMessage(e,"*");p();globalThis.addEventListener("load",()=>{let e=performance.timeOrigin,t=performance.now(),n=performance.timeOrigin+t;r({scope:0,type:"devvit-internal",analytics:{event:"web-view-loaded",timeStart:e,timeEnd:n,duration:t}})});function s(e){let t=new URL(e.href).searchParams.get("webbit_token");if(!t)throw Error("no auth token");return t}var a="clientVersion";function c(e){if(e.currentScript&&"src"in e.currentScript)return new URL(e.currentScript.src).searchParams.get(a)??void 0}async function d(e,t,n,l,u){let o=new Request(l,u);return f(n,new URL(o.url))&&o.headers.set("Authorization",`Bearer ${e}`),await t(o)}function f(e,t){return t.origin===e.origin}var m=c(document);console.debug(`@devvit/client v${m??"?"}`);globalThis.fetch=d.bind(void 0,s(location),globalThis.fetch,location);
//# sourceMappingURL=devvit.v1.min.js.map
