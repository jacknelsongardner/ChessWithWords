import { test } from 'vitest';
import { queryAuthToken } from './auth-token.js';
test('no token', () => expect(() => queryAuthToken({ href: '' })).toThrow('no auth token'));
test('token', () => expect(queryAuthToken({
    href: 'https://csipc4--699ce78e-44a2-43c4-b581-3f58298a2711-webview.devvit.net/index.html?webbit_token=eyJhbGciOiJIUzI1NiIsImtpZCI6ImVlYzJjOWUzLWM0NTctNTM3Zi05NThmLTI5MDg3N2U4NjNlYyIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJkZXZ2aXQtZ2F0ZXdheS5yZWRkaXQuY29tIiwiYXVkIjpbIjhlMGUwZWI3LTc0NzgtNGVmMS1hNGZmLTk5NTlmMTkzZmNkMC0wLTAtOS13ZWJ2aWV3LmRldnZpdC5uZXQiXSwiZXhwIjoxNzQ5NzUyMzQ1LCJuYmYiOjE3NDk2NjU5NDUsImlhdCI6MTc0OTY2NTk0NSwianRpIjoiZWE3NDMwMzEtNjBlZS00ZTMwLTk2NGQtYjE4MWU4ZTQ5YzZkIiwiZGV2dml0LXBvc3QtaWQiOiJ0M18xbDhhbXlqIiwiZGV2dml0LXVzZXItaWQiOiIiLCJkZXZ2aXQtaW5zdGFsbGF0aW9uIjoiOGUwZTBlYjctNzQ3OC00ZWYxLWE0ZmYtOTk1OWYxOTNmY2QwIn0.EIwY8PVkWyeabHllfI0lcD4uSql_fjqbAt5aiKqT1o0',
})).toBe('eyJhbGciOiJIUzI1NiIsImtpZCI6ImVlYzJjOWUzLWM0NTctNTM3Zi05NThmLTI5MDg3N2U4NjNlYyIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJkZXZ2aXQtZ2F0ZXdheS5yZWRkaXQuY29tIiwiYXVkIjpbIjhlMGUwZWI3LTc0NzgtNGVmMS1hNGZmLTk5NTlmMTkzZmNkMC0wLTAtOS13ZWJ2aWV3LmRldnZpdC5uZXQiXSwiZXhwIjoxNzQ5NzUyMzQ1LCJuYmYiOjE3NDk2NjU5NDUsImlhdCI6MTc0OTY2NTk0NSwianRpIjoiZWE3NDMwMzEtNjBlZS00ZTMwLTk2NGQtYjE4MWU4ZTQ5YzZkIiwiZGV2dml0LXBvc3QtaWQiOiJ0M18xbDhhbXlqIiwiZGV2dml0LXVzZXItaWQiOiIiLCJkZXZ2aXQtaW5zdGFsbGF0aW9uIjoiOGUwZTBlYjctNzQ3OC00ZWYxLWE0ZmYtOTk1OWYxOTNmY2QwIn0.EIwY8PVkWyeabHllfI0lcD4uSql_fjqbAt5aiKqT1o0'));
